<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">

<head>
    {% block head %}

    <title>{% block title %}{{ SITENAME }}{% endblock title %}</title>
    <meta charset="utf-8" />
    <meta name="theme-color" content="#343a40">
    {% if FEED_ALL_ATOM %}
    <link
        href="{{ FEED_DOMAIN }}/{% if FEED_ALL_ATOM_URL %}{{ FEED_ALL_ATOM_URL }}{% else %}{{ FEED_ALL_ATOM }}{% endif %}"
        type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Full Atom Feed" />
    {% endif %}
    {% if FEED_ALL_RSS %}
    <link
        href="{{ FEED_DOMAIN }}/{% if FEED_ALL_RSS_URL %}{{ FEED_ALL_RSS_URL }}{% else %}{{ FEED_ALL_RSS }}{% endif %}"
        type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Full RSS Feed" />
    {% endif %}
    {% if FEED_ATOM %}
    <link href="{{ FEED_DOMAIN }}/{%if FEED_ATOM_URL %}{{ FEED_ATOM_URL }}{% else %}{{ FEED_ATOM }}{% endif %}"
        type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
    {% endif %}
    {% if FEED_RSS %}
    <link href="{{ FEED_DOMAIN }}/{% if FEED_RSS_URL %}{{ FEED_RSS_URL }}{% else %}{{ FEED_RSS }}{% endif %}"
        type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
    {% endif %}
    {% if CATEGORY_FEED_ATOM and category %}
    <link
        href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_ATOM_URL %}{{ CATEGORY_FEED_ATOM_URL.format(slug=category.slug) }}{% else %}{{ CATEGORY_FEED_ATOM.format(slug=category.slug) }}{% endif %}"
        type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Categories Atom Feed" />
    {% endif %}
    {% if CATEGORY_FEED_RSS and category %}
    <link
        href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_RSS_URL %}{{ CATEGORY_FEED_RSS_URL.format(slug=category.slug) }}{% else %}{{ CATEGORY_FEED_RSS.format(slug=category.slug) }}{% endif %}"
        type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Categories RSS Feed" />
    {% endif %}
    {% if TAG_FEED_ATOM and tag %}
    <link
        href="{{ FEED_DOMAIN }}/{% if TAG_FEED_ATOM_URL %}{{ TAG_FEED_ATOM_URL.format(slug=tag.slug) }}{% else %}{{ TAG_FEED_ATOM.format(slug=tag.slug) }}{% endif %}"
        type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Tags Atom Feed" />
    {% endif %}
    {% if TAG_FEED_RSS and tag %}
    <link
        href="{{ FEED_DOMAIN }}/{% if TAG_FEED_RSS_URL %}{{ TAG_FEED_RSS_URL.format(slug=tag.slug) }}{% else %}{{ TAG_FEED_RSS.format(slug=tag.slug) }}{% endif %}"
        type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Tags RSS Feed" />
    {% endif %}


    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/css/pygment.css" />
    <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/css/bootstrap.min.css" />

    {% if TIPUE_SEARCH %}
    <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/tipuesearch/css/tipuesearch.css">
    {% endif %}

    {% if GOOGLE_ANALYTICS_ID %}
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', '{{ GOOGLE_ANALYTICS_ID }}', '{{ GOOGLE_ANALYTICS_SITENAME }}');
        ga('send', 'pageview');

    </script>
    {% endif %}

    {% if PIWIK_URL%}
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function () {
            var u = (("https:" == document.location.protocol) ? "https" : "http") + "://{{ PIWIK_URL }}/";
            _paq.push(['setTrackerUrl', u + 'piwik.php']);
            _paq.push(['setSiteId', {{ PIWIK_ID }}]);
        var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0]; g.type = 'text/javascript';
        g.defer = true; g.async = true; g.src = u + 'piwik.js'; s.parentNode.insertBefore(g, s);
                 }) ();
    </script>
    <noscript>
        <p><img src="http://{{ PIWIK_URL }}/piwik.php?idsite={{ PIWIK_ID }}" style="border:0;" alt="" /></p>
    </noscript>
    {% endif %}

    {% endblock head %}
</head>

<body style="background-color:#e9ecef">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <a class="navbar-brand" href="{{ SITEURL }}/">
            <img src="{{ SITEURL }}/{{ LOGO_IMG }}" width="30rem">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                {% for title, link in MENUITEMS %}
                <li class="nav-item"><a class='nav-link {% if title=="Blog" %} active {% endif %}' href="{{ link }}">{{ title }}</a></li>
                {% endfor %}
                {% if DISPLAY_PAGES_ON_MENU %}
                {% for p in pages %}
                <li class="nav-item {% if p == page %} active {% endif %}"><a class="nav-link"
                        href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a></li>
                {% endfor %}
                {% else %}
                {% if DISPLAY_CATEGORIES_ON_MENU %}
                {% for cat, null in categories %}
                <li class="nav-item {% if cat == category %} active {% endif %}"><a class="nav-link"
                        href="{{ SITEURL }}/{{ cat.url }}">{{ cat }}</a></li>
                {% endfor %}
                {% endif %}
                {% endif %}
            </ul>
        </div>

    </nav>
            <div class="m-3 px-3">
                 {% block content %}

                 {% endblock %}
                 <footer class="footer my-3">
                     <div class="row">
                         {% if GITHUB_URL or TWITTER_URL or FACEBOOK_URL %}
                         <div class="col">
                             <div class="btn-group" role="group" aria-label="Basic example">

                                 {% if GITHUB_URL %}
                                 <a class="btn btn-outline-dark btn-sm" href="{{ GITHUB_URL }}"
                                     target="_blank">Github</a>
                                 {% endif %}

                                 {% if TWITTER_URL %}
                                 <a class="btn btn-outline-dark btn-sm" href="{{ TWITTER_URL }}"
                                     target="_blank">Twitter</a>
                                 {% endif %}

                                 {% if FACEBOOK_URL %}
                                 <a class="btn btn-outline-dark btn-sm" href="{{ FACEBOOK_URL }}"
                                     target="_blank">Facebook</a>
                                 {% endif %}

                             </div>
                         </div>
                         {% endif %}
                         <div class="col">
                             <div class="text-muted text-right my-1">
                                 Designed by <a href="https://github.com/hankliao87/"> Hank Liao</a>
                             </div>
                         </div>
                    </div>
                </footer>
    </div>



    {% include 'disqus_script.html' %}
    {% include 'piwik.html' %}

    <script type="text/javascript" src="{{ SITEURL }}/theme/js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/js/popper.min.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/js/custom.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/js/modernizr-2.6.2.min.js"></script>

    {% if TIPUE_SEARCH %}
    <script type="text/javascript" src="{{ SITEURL }}/tipuesearch_content.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/tipuesearch/tipuesearch.min.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/tipuesearch_content.js"></script>
    <script>
        $(document).ready(function () {
            $('#tipue_search_input').tipuesearch({
                'mode': 'json',
                'contentLocation': '{{ SITEURL }}/tipuesearch_content.json'
            });
        });
    </script>
    {% endif %}

</body>

</html>
